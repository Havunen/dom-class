/*! (C) Andrea Giammarchi - @WebReflection - Mit Style License */
define(["es-class","restyle"],function(e,t){var n=function(n,r,i){"use strict";var s="onAttached",o="attachedCallback",u="onChanged",a="attributeChangedCallback",f="constructor",l="createdCallback",c="css",h="<style>",p="stylesheet",d="onDetached",v="detachedCallback",m="extends",g="name",y=n.document,b=y.documentElement,w=i.hasOwnProperty,E=r.prototype,S=function(e,t){for(var n,r=L(e),i=r.length;i--;)n=r[i],O.indexOf(n)<0&&!w.call(t,n)&&x(t,n,T(e,n))},x=i.defineProperty,T=i.getOwnPropertyDescriptor,N=i.getOwnPropertyNames||i.keys||function(e){var t=[],n;for(n in e)w.call(e,n)&&t.push(n);return t},C=i.getOwnPropertySymbols||function(){return E},k=function(e){return n["HTML"+e+"Element"]},L=function(e){return C(e).concat(N(e))},A=function(e,t){if(!t.length){var n=e.getAttribute("data-arguments");n&&(t=n.charAt(0)==="["?JSON.parse(n):n.split(/\s*,\s*/))}return t},O=L(function(){}),M=function(e,t,n,r){w.call(e,t)&&(n[r]=e[t])},_=function(){for(var t=+this,n=t,i=arguments.length,s=i-t,o=new r(s<0?0:s);n<i;n++)o[n-t]=arguments[n];return o},D=function(e){return e+"-i-"+(w.call(B,e)?++B[e]:B[e]=0)},P=function(e,n,r){var i;e.setAttribute("dom-class-uid",r),x(e,c,{configurable:!0,get:function(){return i||(i=t(n+'[dom-class-uid="'+r+'"]',{}))},set:function(t){e[c].replace(t)}})},H=function(e,t){var n=new XMLHttpRequest,r=y.body||y.head||b,i,s;try{n.open("GET",t,!1),n.send(null),i=n.responseText,s=r.insertBefore(y.createElement("style"),r.lastChild),s.type="text/css","styleSheet"in s?s.styleSheet.cssText=i:s.appendChild(y.createTextNode(i))}catch(o){s=y.createElement("link"),s.href=t,s.rel="stylesheet",s.type="text/css",r.insertBefore(s,r.lastChild)}return b.offsetWidth},B={},j=0;return function(r){var i=function(){return L&&(L=!1,H(q,O)),b=_.apply(0,arguments),new F},b=E,T={},N=w.call(r,c),C=w.call(r,f),L=w.call(r,p),O=L&&r[p],B=C&&r[f],F,I,q,R,U;M(r,s,T,o),M(r,u,T,a),M(r,d,T,v);for(q in r)if(w.call(r,q))switch(q){case s:case u:case f:case d:case m:case g:case c:case p:break;default:T[q]=r[q]}T[m]=w.call(r,m)?r[m].prototype:HTMLElement.prototype;if(T[m]instanceof HTMLElement)switch(r[m]){case k("Anchor"):U="a";break;case k("Audio"):U="audio";break;case k("BR"):U="br";break;case k("Body"):U="body";break;case k("Button"):U="button";break;case k("Canvas"):U="canvas";break;case k("Col"):U="col";break;case k("DataList"):U="dl";break;case k("Div"):U="div";break;case k("Form"):U="form";break;case k("HR"):U="hr";break;case k("Head"):U="head";break;case k("IFrame"):U="iframe";break;case k("Image"):U="img";break;case k("Input"):U="input";break;case k("LI"):U="li";break;case k("Label"):U="label";break;case k("Legend"):U="legend";break;case k("Link"):U="link";break;case k("Menu"):U="menu";break;case k("OList"):U="ol";break;case k("Option"):U="option";break;case k("Paragraph"):U="p";break;case k("Progress"):U="progress";break;case k("Quote"):U="quote";break;case k("Select"):U="select";break;case k("Span"):U="span";break;case k("Style"):U="style";break;case k("Table"):U="table";break;case k("TableCaption"):U="caption";break;case k("TableCell"):U="td";break;case k("TableCol"):U="colgroup";break;case k("TableRow"):U="tr";break;case k("TableSection"):U="tbody";break;case k("Table"):U="table";break;case k("Table"):U="table";break;case k("TextArea"):U="textarea";break;case k("Track"):U="track";break;case k("UList"):U="ul";break;case k("Video"):U="video"}return q=w.call(r,g)?r[g]:"x-dom-class-"+j++,N&&(T[h]=t(q,r[c])),T[l]=function(){var e=A(this,b);b=E,I.apply(this,e),N&&P(this,q,D(q)),C&&B.apply(this,e)},I=new e(T),S(I,i),R={prototype:I.prototype},U&&(R[m]=U),F=y.registerElement(q,R),i.prototype=F.prototype,x(F.prototype,f,{value:i}),i}}(this&&this.window||global,Array,Object);return n});