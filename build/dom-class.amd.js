/*! (C) Andrea Giammarchi - @WebReflection - Mit Style License */
define(["es-class","restyle"],function(e,t){var n=function(n,r){"use strict";var i="onAttached",s="attachedCallback",o="onChanged",u="attributeChangedCallback",a="constructor",f="createdCallback",l="css",c="onDetached",h="detachedCallback",p="extends",d="name",v=r.hasOwnProperty,m=n.prototype,g=function(e,t,n,r){v.call(e,t)&&(n[r]=e[t])},y=function(){for(var t=+this,r=t,i=arguments.length,s=i-t,o=new n(s<0?0:s);r<i;r++)o[r-t]=arguments[r];return o},b=function(e){return e+"-i-"+(v.call(w,e)?++w[e]:w[e]=0)},w={},E=0;return function(r){var w=function(){return S=y.apply(0,arguments),new k},S=m,x={},T=v.call(r,l),N=v.call(r,a),C=N&&r[a],k,L,A;g(r,i,x,s),g(r,o,x,u),g(r,c,x,h);for(A in r)if(v.call(r,A))switch(A){case i:case o:case a:case c:case p:case d:case l:break;default:x[A]=r[A]}return x[p]=v.call(r,p)?r[p].prototype:HTMLElement.prototype,A=v.call(r,d)?r[d]:"x-dom-class-"+E++,T&&(x[l]=t(A,r[l])),x[f]=function(){L.apply(this,S),T&&(this.classList.add(b(A)),this.css=t(A+"."+this.className.split(" ").pop(),{})),N&&C.apply(this,S)},L=new e(x),k=document.registerElement(A,{prototype:L.prototype}),w.prototype=k.prototype,w}}(Array,Object);return n});