/*! (C) Andrea Giammarchi - @WebReflection - Mit Style License */
define(["es-class","restyle"],function(e,t){var n=function(n){"use strict";var r="onAttached",i="attachedCallback",s="onChanged",o="attributeChangedCallback",u="constructor",a="createdCallback",f="css",l="onDetached",c="detachedCallback",h="extends",p="name",d=n.hasOwnProperty,v=function(e,t,n,r){d.call(e,t)&&(n[r]=e[t])},m=function(e){return e+"-i-"+(d.call(g,e)?++g[e]:g[e]=0)},g={},y=0;return function(g){var b={},w=d.call(g,u),E=d.call(g,f),S=w&&g[u],x,T;v(g,r,b,i),v(g,s,b,o),v(g,l,b,c);for(T in g)if(d.call(g,T))switch(T){case r:case s:case u:case l:case h:case p:case f:break;default:b[T]=g[T]}return b[h]=d.call(g,h)?g[h].prototype:HTMLElement.prototype,T=d.call(g,p)?g[p]:"x-dom-class-"+y++,E&&(b[f]=t(T,g[f])),b[a]=function(){x.apply(this,arguments),E&&(this.classList.add(m(T)),this.css=t(T+"."+this.className.split(" ").pop(),{})),w&&S.apply(this,arguments)},x=new e(b),document.registerElement(T,{prototype:x.prototype})}}(Object);return n});