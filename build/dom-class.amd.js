/*! (C) Andrea Giammarchi - @WebReflection - Mit Style License */
define(["es-class","restyle"],function(e,t){var n=function(n,r){"use strict";var i="onAttached",s="attachedCallback",o="onChanged",u="attributeChangedCallback",a="constructor",f="createdCallback",l="css",c="onDetached",h="detachedCallback",p="extends",d="name",v=r.hasOwnProperty,m=n.prototype,g=function(e,t){for(var n,r=S(e),i=r.length;i--;)n=r[i],T.indexOf(n)<0&&!v.call(t,n)&&y(t,n,b(e,n))},y=r.defineProperty,b=r.getOwnPropertyDescriptor,w=r.getOwnPropertyNames||r.keys||function(e){var t=[],n;for(n in e)v.call(e,n)&&t.push(n);return t},E=r.getOwnPropertySymbols||function(){return m},S=function(e){return E(e).concat(w(e))},x=function(e,t){if(!t.length){var n=e.getAttribute("data-arguments");n&&(t=n.charAt(0)==="["?JSON.parse(n):n.split(/\s*,\s*/))}return t},T=S(function(){}),N=function(e,t,n,r){v.call(e,t)&&(n[r]=e[t])},C=function(){for(var t=+this,r=t,i=arguments.length,s=i-t,o=new n(s<0?0:s);r<i;r++)o[r-t]=arguments[r];return o},k=function(e){return e+"-i-"+(v.call(L,e)?++L[e]:L[e]=0)},L={},A=0;return function(r){var b=function(){return w=C.apply(0,arguments),new O},w=m,E={},S=v.call(r,l),T=v.call(r,a),L=T&&r[a],O,M,_;N(r,i,E,s),N(r,o,E,u),N(r,c,E,h);for(_ in r)if(v.call(r,_))switch(_){case i:case o:case a:case c:case p:case d:case l:break;default:E[_]=r[_]}return E[p]=v.call(r,p)?r[p].prototype:HTMLElement.prototype,_=v.call(r,d)?r[d]:"x-dom-class-"+A++,S&&(E[l]=t(_,r[l])),E[f]=function(){w=x(this,w),M.apply(this,w),S&&(this.classList.add(k(_)),this.css=t(_+"."+this.className.split(" ").pop(),{})),T&&L.apply(this,w)},M=new e(E),g(M,b),O=document.registerElement(_,{prototype:M.prototype}),b.prototype=O.prototype,y(O.prototype,a,{value:b}),b}}(Array,Object);return n});